import{j as e}from"./index-Pse_v-NO.js";import{u as x,c as n}from"./Index-CupScY8h.js";import{U as t}from"./ui-Dl3EeYDA.js";import"./supabase-DllM73rC.js";function j({onNavigate:d}){const{stats:l,equipment:a,movements:i,isLoading:r}=x();if(r)return e.jsx("div",{className:"text-slate-400",children:"Loading..."});const c=[{label:"Total Equipment",value:l.total,filter:"All"},{label:"Available",value:l.available,filter:"Available"},{label:"In Use",value:l.inUse,filter:"In Use"},{label:"Overdue",value:l.overdue,filter:"Overdue"},{label:"Expired Tags",value:l.expiredTags,filter:"Expired Tags"},{label:"Due Soon",value:l.dueSoon,filter:"Due Soon"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-6 gap-4",children:c.map(s=>e.jsxs("button",{onClick:()=>d("equipment",s.filter),className:`${t.card} ${t.cardHover} p-5 text-left transition-all`,children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:s.value}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium tracking-wide",children:s.label})]},s.label))}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`xl:col-span-2 ${t.card}`,children:[e.jsx("div",{className:`px-5 py-4 border-b ${t.divider} flex items-center justify-between`,children:e.jsx("h3",{className:"font-semibold text-white",children:"Recent Activity"})}),e.jsx("div",{className:"divide-y divide-slate-700/40",children:i.length===0?e.jsx("div",{className:"p-6 text-sm text-slate-500 text-center",children:"No recent activity"}):i.slice(0,8).map(s=>e.jsxs("div",{className:"px-5 py-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-200",children:s.event_type==="check_out"?"Checked Out":"Returned"}),e.jsx("p",{className:"text-xs text-slate-500",children:new Date(s.event_timestamp).toLocaleDateString()})]}),e.jsx("span",{className:"text-xs text-slate-400",children:s.assigned_to})]},s.id))})]}),e.jsxs("div",{className:`${t.card}`,children:[e.jsx("div",{className:`px-5 py-4 border-b ${t.divider}`,children:e.jsx("h3",{className:"font-semibold text-white",children:"Compliance Summary"})}),e.jsxs("div",{className:"p-5 space-y-4 text-sm text-slate-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Compliant"}),e.jsx("span",{children:a.filter(s=>n(s)==="OK").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Due Soon"}),e.jsx("span",{children:l.dueSoon})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Expired"}),e.jsx("span",{className:"text-red-400",children:l.expiredTags})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"No Tag"}),e.jsx("span",{children:a.filter(s=>n(s)==="No Tag").length})]})]})]})]})]})}export{j as default};
