import{j as e,U as t}from"./index-CMN9V2GQ.js";import{u,c as p,a as r}from"./Index-r960hd4n.js";import"./supabase-DllM73rC.js";import"./Settings-BZqzJFmP.js";function g({onNavigate:i}){const{stats:l,equipment:a,movements:n,isLoading:c}=u();if(c)return e.jsx("div",{className:"text-muted-foreground",children:"Loading..."});const o=l.repair??0,d=a.filter(s=>p(s)==="Repair").slice(0,6),m=[{label:"Total Equipment",value:l.total,filter:"All",kind:"info"},{label:"Available",value:l.available,filter:"Available",kind:"success"},{label:"In Use",value:l.inUse,filter:"In Use",kind:"info"},{label:"Overdue",value:l.overdue,filter:"Overdue",kind:"danger"},{label:"Action Required",value:o,filter:"Repair",kind:"warning"},{label:"Expired Tags",value:l.expiredTags,filter:"Expired Tags",kind:"danger"},{label:"Due Soon",value:l.dueSoon,filter:"Due Soon",kind:"warning"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-6 gap-4",children:m.map((s,x)=>e.jsxs("button",{onClick:()=>i("equipment",s.filter),className:`${t.card} ${t.cardHover} llt-pad-md text-left transition-all ${x===0?"llt-kpi-primary 2xl:col-span-2":""} ${Number(s.value)>0&&s.kind==="danger"?"llt-kpi-state-danger":""} ${Number(s.value)>0&&s.kind==="warning"?"llt-kpi-state-warning":""} ${Number(s.value)>0&&s.kind==="info"?"llt-kpi-state-info":""}`,children:[e.jsx("p",{className:"llt-kpi",children:s.value}),e.jsx("p",{className:"llt-eyebrow text-muted-foreground mt-1",children:s.label})]},s.label))}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`${t.card}`,children:[e.jsxs("div",{className:`px-5 py-4 border-b ${t.divider} flex items-center justify-between`,children:[e.jsx("h3",{className:"font-semibold text-white",children:"Action Required Queue"}),e.jsx("button",{onClick:()=>i("equipment","Repair"),className:"text-xs text-muted-foreground hover:text-foreground/90 transition-colors",children:"View all"})]}),e.jsx("div",{className:"divide-y divide-slate-700/40",children:d.length===0?e.jsx("div",{className:"llt-pad-md llt-body-sm text-muted-foreground/70 text-center",children:"No items require action"}):d.map(s=>e.jsx("button",{onClick:()=>i("equipment","Repair"),className:"w-full text-left px-5 py-3 hover:bg-background/30 transition-colors",title:"Open Maintenance list",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"llt-body-sm text-foreground/90 truncate",children:s.name}),e.jsx("p",{className:"llt-caption text-muted-foreground/70 font-mono",children:s.asset_id})]}),e.jsx("span",{className:"llt-caption llt-warning-text whitespace-nowrap",children:"MAINT"})]})},s.id))})]}),e.jsxs("div",{className:`xl:col-span-2 ${t.card}`,children:[e.jsx("div",{className:`px-5 py-4 border-b ${t.divider} flex items-center justify-between`,children:e.jsx("h3",{className:"font-semibold text-white",children:"Recent Activity"})}),e.jsx("div",{className:"divide-y divide-slate-700/40",children:n.length===0?e.jsx("div",{className:"llt-pad-md llt-body-sm text-muted-foreground/70 text-center",children:"No recent activity"}):n.slice(0,8).map(s=>e.jsxs("div",{className:"px-5 py-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"llt-body-sm text-foreground/90",children:s.event_type==="check_out"?"Checked Out":"Returned"}),e.jsx("p",{className:"llt-caption text-muted-foreground/70",children:new Date(s.event_timestamp).toLocaleDateString()})]}),e.jsx("span",{className:"llt-caption text-muted-foreground",children:s.assigned_to})]},s.id))})]}),e.jsxs("div",{className:`${t.card}`,children:[e.jsx("div",{className:`px-5 py-4 border-b ${t.divider}`,children:e.jsx("h3",{className:"font-semibold text-white",children:"Compliance Summary"})}),e.jsxs("div",{className:"llt-pad-md llt-stack-md llt-body-sm text-foreground/85",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Compliant"}),e.jsx("span",{children:a.filter(s=>r(s)==="OK").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Due Soon"}),e.jsx("span",{children:l.dueSoon})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Expired"}),e.jsx("span",{className:"text-red-400",children:l.expiredTags})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"No Tag"}),e.jsx("span",{children:a.filter(s=>r(s)==="No Tag").length})]})]})]})]})]})}export{g as default};
