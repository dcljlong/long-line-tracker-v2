import{r as i,j as e,U as l}from"./index-D2wEAUMB.js";import{b as j}from"./Index-thqiWSAH.js";import"./supabase-DllM73rC.js";import"./Settings-DvgwgW1l.js";function k({onClose:m}){const{signIn:x,signUp:p,error:h,clearError:d,isLoading:c}=j(),[t,g]=i.useState("signin"),[s,o]=i.useState({email:"",password:"",fullName:"",role:"standard"}),[f,a]=i.useState(""),b=async n=>{if(n.preventDefault(),a(""),d(),!s.email||!s.password){a("Email and password are required");return}if(t==="signup"&&!s.fullName){a("Full name is required");return}t==="signin"?await x(s.email,s.password):await p(s.email,s.password,s.fullName,s.role)},u=f||h;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${l.card} w-full max-w-md overflow-hidden`,children:[e.jsx("div",{className:"px-6 py-5 bg-background/70 text-white border-b border-border/70",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:t==="signin"?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-sm text-white/70 mt-0.5",children:t==="signin"?"Sign in to your account":"Set up your new account"})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[u&&e.jsxs("div",{className:"llt-alert llt-alert--danger flex items-center gap-2 llt-body-sm",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),u]}),t==="signup"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground/90 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:s.fullName,onChange:n=>o(r=>({...r,fullName:n.target.value})),placeholder:"John Smith",className:`w-full px-3 py-2.5 border rounded-lg text-sm focus:outline-none ${l.input}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground/90 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:s.email,onChange:n=>o(r=>({...r,email:n.target.value})),placeholder:"you@company.com",className:`w-full px-3 py-2.5 border rounded-lg text-sm focus:outline-none ${l.input}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground/90 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:s.password,onChange:n=>o(r=>({...r,password:n.target.value})),placeholder:"Enter password",className:`w-full px-3 py-2.5 border rounded-lg text-sm focus:outline-none ${l.input}`})]}),t==="signup"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground/90 mb-1",children:"Role"}),e.jsxs("select",{value:s.role,onChange:n=>o(r=>({...r,role:n.target.value})),className:`w-full px-3 py-2.5 border rounded-lg text-sm focus:outline-none ${l.input}`,children:[e.jsx("option",{value:"standard",children:"Standard User (Read-only)"}),e.jsx("option",{value:"admin",children:"Administrator"})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full px-4 py-2.5 bg-primary text-primary-foreground rounded-lg text-sm font-semibold hover:bg-primary transition-colors disabled:opacity-50",children:c?"Processing...":t==="signin"?"Sign In":"Create Account"}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[t==="signin"?"Don't have an account? ":"Already have an account? ",e.jsx("button",{type:"button",onClick:()=>{g(t==="signin"?"signup":"signin"),d(),a("")},className:"text- font-medium hover:underline",children:t==="signin"?"Sign Up":"Sign In"})]})]})]})})}export{k as default};
